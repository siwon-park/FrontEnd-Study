# 02_SSR, CSR

> 서버 사이드 렌더링과 클라이언트 사이드 렌더링

| SSR                                                          | CSR                                                          |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![image](https://github.com/user-attachments/assets/3c27c14a-264e-428f-b0c6-6f4f1bb4439e) | ![image](https://github.com/user-attachments/assets/7e135e93-8337-482d-88ba-a76aae05b892) |

<br>

## 1. SSR  (Server Side Rendering)

![image](https://github.com/user-attachments/assets/745edbd9-f335-4d6b-ba36-ddbe02086a55)

### 1) 동작 과정

1. 사용자가 브라우저를 통해 앱에 접근하면
2. 서버는 올바른 요청일 경우 서버 내에서 HTML을 그린다.
3. 브라우저는 렌더링된 HTML을 받아서 화면에 띄우고 JS를 다운받는다.
   - 렌더링된 화면은 볼 수 있지만 아직 JS를 실행시키지 않았기 때문에 동적인 조작은 불가하다.
4. 브라우저가 JS 프레임워크를 실행하고 동적인 상호작용이 가능해진다.

<br>

### 2) 장/단점

#### (1) 장점

- 첫 페이지 로딩 속도가 빠르다.
  - 서버가 이미 그려진 HTML을 먼저 전달하고 이후에 일부 요소들을 차근 차근 그린다.
- 검색엔진최적화(SEO)가 가능하다.
  - 서버 내 HTML 파일에 모든 정보가 이미 포함되어 있어 크롤링이 가능하기 때문

#### (2) 단점

- 새로운 페이지로 이동할 때 새로 서버에 요청을 해야하기 때문에 매번 새로고침(깜빡임) 이슈가 발생한다.
- 필요한 것이 있을 때마다 서버로 요청하기 때문에 서버에 부하를 주게 된다.
- 사용자가 볼 수 있는 시점과 상호작용할 수 있는 시점에 차이가 있을 수 있다.

<br>

## 2. CSR (Client Side Rendering)

![image](https://github.com/user-attachments/assets/1c56a8dd-449b-483d-8bea-84d348675b29)

### 1) 동작 과정

1. 사용자가 브라우저를 통해 앱에 접근하면
2. 서버는 올바른 요청일 경우 빈 HTML을 응답한다.
   - 이 때, CDN 방식으로 빠르게 HTML과 JS를 다운받을 수 있도록 링크를 제공한다.
3. 응답에 따라 브라우저는 HTML 및 JS 파일을 다운 받고 그동안은 화면에 아무것도 보이지 않는다.
4. 브라우저에서 JS 파일까지 다운로드가 끝나면 JS 프레임워크를 실행한다.
5. JS 프레임워크가 DOM을 그리고 동적으로 화면을 렌더링한다.
   - 화면을 그리기 위해 데이터를 위한 API 호출이 시작되고 서버가 API에 대한 응답을 반환한다.
6. 사용자가 화면을 보게 된다.

<br>

### 2) 장/단점

#### (1) 장점

- 페이지를 이동할 때마다 새로고침할 필요가 없어 사용자 경험이 SSR에 비해 더 높다.
- 초기 로딩 이후에 빠른 웹 사이트 렌더링 및 상호작용이 가능하다.
- 필요할 때만 데이터를 받아오면 되기 때문에 상대적으로 트래픽이 낮다.

#### (2) 단점

- 초기에 응답받는 HTML이 빈 파일이기 때문에 SEO에 좋지 않다.
- HTML과 JS를 모두 다운받기까지 시간이 소모되기 때문에 초기 로딩이 느리다.

<br>

## 3. 언제 뭘 사용해야 할까?

어느 방식이 압도적으로 좋다고 할 수 없다. 상황에 따라 적절한 렌더링 방식을 채택해야 한다.

- SSR
  - SEO 최적화가 필요할 때
  - 페이지 상호작용이 상대적으로 없을 때
  - 서버 자원을 더 많이 활용 가능할 때
- CSR
  - 검색엔진 최적화 중요성이 상대적으로 낮을 때
  - 페이지 상호작용이 많을 때
  - 서버 자원을 많이 활용할 수 없을 때